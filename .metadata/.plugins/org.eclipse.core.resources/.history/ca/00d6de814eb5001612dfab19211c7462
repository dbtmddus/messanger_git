package server;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.ServerSocket;
import java.net.Socket;
import java.nio.channels.SocketChannel;

public class server {

	public static void main(String[] args) throws IOException {
		// TODO Auto-generated method stub
		
		int n=0; 
		ServerSocket ss = null;
		
		 ServerSocket svsoc = null;//서버소켓
		 Socket soc = null;
		  
		  
		 
		
		
		
		while (true){
			 svsoc = new ServerSocket(9000);//9000번 포트로 통신하기위해 서버소켓생성
			  soc = svsoc.accept();//기다리다 연결되면 accept통해 만들어지는 것이 클라이언트 소켓 

			if (socket_ch !=null){
				BufferedReader br = new BufferedReader(new InputStreamReader(socket_ch.socket().getInputStream()));
				String str_from_client="";
				while(str_from_client != ".exit\n"){
					str_from_client = br.readLine();		//입력될때까지 여기서  대기
					System.out.println(str_from_client);
					//in.reset();
					br = new BufferedReader(new InputStreamReader(socket_ch.socket().getInputStream()));
				}
			}
		}
	}
}
