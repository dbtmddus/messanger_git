import java.util.Vector;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;

public class swing_test {

	static Vector<JPanel> arr_panel = new Vector<JPanel>(0);

	private JFrame frame;
	private	JScrollPane spanel;

	public swing_test(){

		String[] arr_str = {"a","b","c"};

		frame = new JFrame("");
		frame.getContentPane().setLayout(null);
		frame.setVisible(true);
		frame.setSize(400, 357);

		spanel = new JScrollPane(null, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
		frame.getContentPane().add(spanel);
		spanel.setBounds(frame.getContentPane().getBounds());	//안하면 안나옴 (아마 크기 0인듯)
		spanel.setVisible(true);


		for (int i=0; i<5; i++){
			int next_location=0;

			JPanel panel1 = new JPanel();
			panel1.setBounds(spanel.getBounds().x, spanel.getBounds().y, 
					(int)spanel.getBounds().getWidth(), spanel.getBounds().y+60);

			//panel1.setSize(spanel.getWidth(), 60);
			spanel.add(panel1);
			panel1.setVisible(true);

			JButton b1 = new JButton("New button");
			b1.setBounds(panel1.getBounds());
			panel1.add(b1);

			arr_panel.addElement(panel1);
		}
	}

	public void f_repaint(){
		spanel.setBounds(frame.getContentPane().getBounds());	//안하면 안나옴 (아마 크기 0인듯)
		for (int i=0; i< arr_panel.size(); i++){
			int panel = arr_panel.get(i);
			arr_panel.get(i).setBounds(spanel.getBounds().x, spanel.getBounds().y, 
					(int)spanel.getBounds().getWidth(), spanel.getBounds().y+60);
			arr_panel.get(i).getComponents()[0].setBounds(panel1.getBounds());
			repaint();
		}
	}
	public static void main(String[] args) {

		swing_test s = new swing_test();

		while(true){
			s.f_repaint();
		}

	}//end creator
}//end

